load("@bazel_rules_purescript//purescript:purescript.bzl", "purescript_library", "purescript_app")

dependencies = \
    [
        "@purescript_prelude//:pkg",
        "@purescript_halogen//:pkg",
        "@purescript_maybe//:pkg",
        "@purescript_partial//:pkg",
        "@purescript_debug//:pkg",
        "@purescript_transformers//:pkg",
        "@purescript_argonaut_core//:pkg",
        "@purescript_psci_support//:pkg",
        "@purescript_js_date//:pkg",
        "@purescript_console//:pkg",
        "@purescript_argonaut_codecs//:pkg",
        "@purescript_test_unit//:pkg",
        "@purescript_node_fs//:pkg",
        "@purescript_halogen_echarts//:pkg",
        "@purescript_ace_halogen//:pkg",
        "@purescript_remotedata//:pkg",
        "@purescript_servant_support//:pkg",
        "@purescript_ace//:pkg",
        "@purescript_distributive//:pkg",
        "@purescript_arrays//:pkg",
        "@purescript_lazy//:pkg",
        "@purescript_tuples//:pkg",
        "@purescript_aff//:pkg",
        "@purescript_fork//:pkg",
        "@purescript_foreign//:pkg",
        "@purescript_const//:pkg",
        "@purescript_dom_indexed//:pkg",
        "@purescript_coroutines//:pkg",
        "@purescript_media_types//:pkg",
        "@purescript_nullable//:pkg",
        "@purescript_profunctor_lenses//:pkg",
        "@purescript_parallel//:pkg",
        "@purescript_maps//:pkg",
        "@purescript_unsafe_reference//:pkg",
        "@purescript_halogen_vdom//:pkg",
        "@purescript_free//:pkg",
        "@purescript_unsafe_coerce//:pkg",
        "@purescript_dom//:pkg",
        "@purescript_freeap//:pkg",
        "@purescript_profunctor//:pkg",
        "@purescript_functions//:pkg",
        "@purescript_enums//:pkg",
        "@purescript_gen//:pkg",
        "@purescript_eff//:pkg",
        "@purescript_integers//:pkg",
        "@purescript_generics//:pkg",
        "@purescript_either//:pkg",
        "@purescript_quickcheck//:pkg",
        "@purescript_js_timers//:pkg",
        "@purescript_lists//:pkg",
        "@purescript_strings//:pkg",
        "@purescript_exceptions//:pkg",
        "@purescript_datetime//:pkg",
        "@purescript_node_buffer//:pkg",
        "@purescript_node_streams//:pkg",
        "@purescript_node_path//:pkg",
        "@purescript_globals//:pkg",
        "@purescript_halogen_css//:pkg",
        "@purescript_now//:pkg",
        "@purescript_refs//:pkg",
        "@purescript_random//:pkg",
        "@purescript_generics_rep//:pkg",
        "@purescript_bifunctors//:pkg",
        "@purescript_affjax//:pkg",
        "@purescript_foldable_traversable//:pkg",
        "@purescript_echarts//:pkg",
        "@purescript_identity//:pkg",
        "@purescript_argonaut_generic_codecs//:pkg",
        "@purescript_unfoldable//:pkg",
        "@purescript_st//:pkg",
        "@purescript_nonempty//:pkg",
        "@purescript_tailrec//:pkg",
        "@purescript_type_equality//:pkg",
        "@purescript_monoid//:pkg",
        "@purescript_avar//:pkg",
        "@purescript_contravariant//:pkg",
        "@purescript_freet//:pkg",
        "@purescript_functors//:pkg",
        "@purescript_sets//:pkg",
        "@purescript_record//:pkg",
        "@purescript_exists//:pkg",
        "@purescript_control//:pkg",
        "@purescript_catenable_lists//:pkg",
        "@purescript_arraybuffer_types//:pkg",
        "@purescript_math//:pkg",
        "@purescript_proxy//:pkg",
        "@purescript_typelevel_prelude//:pkg",
        "@purescript_css//:pkg",
        "@purescript_symbols//:pkg",
        "@purescript_newtype//:pkg",
        "@purescript_form_urlencoded//:pkg",
        "@purescript_http_methods//:pkg",
        "@purescript_colors//:pkg",
        "@purescript_variant//:pkg",
        "@purescript_invariant//:pkg",
        "@purescript_these//:pkg",
        "@purescript_undefinable//:pkg",
    ]

purescript_library(
    name = "pkg",
    srcs = glob(["src/**/*.purs"]) + glob(["src/**/*.js"]),
    deps = ["//bower_components/purescript-debug:pkg"]
)

# Defines an application with default entrypoint (Main.main):
purescript_app(
    name = "playground",
    srcs = glob(["src/**/*.purs"]) + glob(["src/**/*.js"]) + glob(["generated/**/*.purs"]),
    entry_function = "main",
    entry_module = "Main",
    visibility = ["//visibility:public"],
    deps = dependencies,
)
